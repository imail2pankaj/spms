(self.webpackChunk=self.webpackChunk||[]).push([[345],{2195:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7757),a=n.n(r),o=n(9669),s=n.n(o),c=n(3518),l=n(2119);function i(e,t,n,r,a,o,s){try{var c=e[o](s),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}function p(){var e=(0,c.ref)([]),t=(0,c.ref)({id:0,name:"",email:"",address:"",website:"",status:0}),n=(0,l.tv)(),r=(0,c.ref)({name:"",email:"",address:"",website:""}),o=function(){var t=u(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/api/companies");case 2:n=t.sent,e.value=n.data;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var e=u(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/companies/"+n);case 2:r=e.sent,t.value=r.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=u(a().mark((function e(t){var o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.value.name="",r.value.email="",r.value.address="",r.value.website="",e.prev=4,e.next=7,s().post("/api/companies",t);case 7:return e.next=9,n.push({name:"company"});case 9:e.next=14;break;case 11:if(e.prev=11,e.t0=e.catch(4),422===e.t0.response.status)for(c in o=e.t0.response.data.errors)r.value[c]=o[c][0];case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=u(a().mark((function e(t,o){var c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.value.name="",r.value.email="",r.value.address="",r.value.website="",e.prev=4,e.next=7,s().post("/api/companies/"+t,o);case 7:return e.next=9,n.push({name:"company"});case 9:e.next=14;break;case 11:if(e.prev=11,e.t0=e.catch(4),422===e.t0.response.status)for(l in c=e.t0.response.data.errors)r.value[l]=c[l][0];case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}();return{errors:r,company:t,companies:e,getCompany:i,getCompanies:o,storeCompany:p,saveCompany:d,deleteCompany:function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete("/api/companies/"+t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},2345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(3518),a={class:"flex justify-between mb-2"},o=(0,r.createVNode)("h1",{class:"text-2xl font-bold"}," Company Edit ",-1),s=(0,r.createTextVNode)(" List "),c={class:"bg-white overflow-hidden shadow-sm rounded-lg"},l={class:"p-6 bg-white border-b border-gray-200"},i={class:"mb-6"},u=(0,r.createVNode)("label",{for:"name",class:"input-form-label"},"Company Name",-1),p={key:0},d={class:"mb-6"},m=(0,r.createVNode)("label",{for:"logo",class:"input-form-label"},"Company Logo",-1),f={key:0},v={class:"mb-6"},y=(0,r.createVNode)("label",{for:"email",class:"input-form-label"},"Company email",-1),h={key:0},b={class:"mb-6"},w=(0,r.createVNode)("label",{for:"address",class:"input-form-label"},"Company address",-1),k={key:0},V={class:"mb-6"},C=(0,r.createVNode)("label",{for:"website",class:"input-form-label"},"Company Website",-1),N={key:0},g={class:"mb-6"},x=(0,r.createVNode)("label",{for:"status",class:"input-form-label"},"Company Status",-1),B=(0,r.createVNode)("button",{type:"submit",class:"btn-blue"}," Update Company ",-1);var D=n(7757),S=n.n(D),U=n(2195);function M(e,t,n,r,a,o,s){try{var c=e[o](s),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){M(o,r,a,s,c,"next",e)}function c(e){M(o,r,a,s,c,"throw",e)}s(void 0)}))}}const F={props:{id:{required:!0,type:String}},setup:function(e){var t=(0,U.Z)(),n=t.errors,a=t.company,o=t.saveCompany,s=t.getCompany,c=(0,r.ref)(null);return(0,r.onMounted)(s(e.id)),{errors:n,company:a,updateCompany:function(){var t=q(S().mark((function t(n){var r,s,l,i;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n.preventDefault(),r=new FormData,s=0,l=Object.keys(a.value);s<l.length;s++)"logo"===(i=l[s])?r.append("logo",c.value):r.append(i,a.value[i]);return r.append("_method","patch"),t.next=6,o(e.id,r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),statusOptions:[{value:1,display:"Active"},{value:0,display:"InActive"}],handleFileUpload:function(){var e=q(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c.value=t.target.files[0];case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},render:function(e,t,n,D,S,U){var M=(0,r.resolveComponent)("router-link");return(0,r.openBlock)(),(0,r.createBlock)(r.Fragment,null,[(0,r.createVNode)("div",a,[o,(0,r.createVNode)(M,{to:{name:"company"},class:"link-blue"},{default:(0,r.withCtx)((function(){return[s]})),_:1})]),(0,r.createVNode)("div",c,[(0,r.createVNode)("div",l,[(0,r.createVNode)("form",{onSubmit:t[7]||(t[7]=(0,r.withModifiers)((function(){return D.updateCompany&&D.updateCompany.apply(D,arguments)}),["prevent"]))},[(0,r.createVNode)("div",i,[u,(0,r.withDirectives)((0,r.createVNode)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return D.company.name=e}),id:"name",name:"name",class:"input-form-control",placeholder:"Company name",required:""},null,512),[[r.vModelText,D.company.name]]),D.errors.name?((0,r.openBlock)(),(0,r.createBlock)("span",p,(0,r.toDisplayString)(D.errors.name),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)("div",d,[m,(0,r.createVNode)("input",{type:"file",ref:"file",onChange:t[2]||(t[2]=function(){return D.handleFileUpload&&D.handleFileUpload.apply(D,arguments)}),id:"logo",name:"logo",class:"input-form-control",placeholder:"Company email",required:""},null,544),D.errors.logo?((0,r.openBlock)(),(0,r.createBlock)("span",f,(0,r.toDisplayString)(D.errors.logo),1)):(0,r.createCommentVNode)("",!0),D.company.logo?((0,r.openBlock)(),(0,r.createBlock)("img",{key:1,src:"/uploads/company/"+D.company.logo,class:"w-20",alt:""},null,8,["src"])):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)("div",v,[y,(0,r.withDirectives)((0,r.createVNode)("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return D.company.email=e}),id:"email",name:"email",class:"input-form-control",placeholder:"Company email",required:""},null,512),[[r.vModelText,D.company.email]]),D.errors.email?((0,r.openBlock)(),(0,r.createBlock)("span",h,(0,r.toDisplayString)(D.errors.email),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)("div",b,[w,(0,r.withDirectives)((0,r.createVNode)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return D.company.address=e}),id:"address",name:"address",class:"input-form-control",placeholder:"Company address",required:""},null,512),[[r.vModelText,D.company.address]]),D.errors.address?((0,r.openBlock)(),(0,r.createBlock)("span",k,(0,r.toDisplayString)(D.errors.address),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)("div",V,[C,(0,r.withDirectives)((0,r.createVNode)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return D.company.website=e}),id:"website",name:"website",class:"input-form-control",placeholder:"Company website",required:""},null,512),[[r.vModelText,D.company.website]]),D.errors.website?((0,r.openBlock)(),(0,r.createBlock)("span",N,(0,r.toDisplayString)(D.errors.website),1)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)("div",g,[x,(0,r.withDirectives)((0,r.createVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return D.company.status=e}),name:"status",id:"status",class:"input-form-control"},[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(D.statusOptions,(function(e){return(0,r.openBlock)(),(0,r.createBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.display),9,["value"])})),128))],512),[[r.vModelSelect,D.company.status]])]),B],32)])])],64)}},T=F}}]);