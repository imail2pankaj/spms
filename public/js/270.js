(self.webpackChunk=self.webpackChunk||[]).push([[270],{8450:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7757),a=r.n(n),c=r(9669),o=r.n(c),s=r(4359),i=r(2119);function u(e,t,r,n,a,c,o){try{var s=e[c](o),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){u(c,n,a,o,s,"next",e)}function s(e){u(c,n,a,o,s,"throw",e)}o(void 0)}))}}function l(){var e="/api/service-tickets/",t=(0,i.tv)(),r=(0,s.ref)([]),n=(0,s.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),c=(0,s.ref)({title:"",description:"",priority:"",status:"",type:"",user_id:"",_method:"post"}),u=(0,s.ref)({title:"",description:"",priority:"",status:"",type:"",user_id:""}),l=function(){var t=p(a().mark((function t(c){var s,i,u,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in s="?",c)s+=i+"="+c[i]+"&";return t.next=4,o().get(e+s);case 4:for(p in u=t.sent,r.value=u.data.data,n.value)n.value[p]=u.data[p];case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=p(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get(e+r);case 2:n=t.sent,c.value=n.data;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var r=p(a().mark((function r(n){var c,s,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c in u.value)u.value[c]="";return r.prev=1,r.next=4,o().post(e,n);case 4:return r.next=6,t.push({name:"service-ticket.index"});case 6:r.next=11;break;case 8:if(r.prev=8,r.t0=r.catch(1),422===r.t0.response.status)for(i in s=r.t0.response.data.errors)u.value[i]=s[i][0];case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=p(a().mark((function r(n,c){var s,i,p;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(s in u.value)u.value[s]="";return r.prev=1,r.next=4,o().post(e+n,c);case 4:return r.next=6,t.push({name:"service-ticket.index"});case 6:r.next=11;break;case 8:if(r.prev=8,r.t0=r.catch(1),422===r.t0.response.status)for(p in i=r.t0.response.data.errors)u.value[p]=i[p][0];case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}();return{serviceTicket:c,serviceTickets:r,errors:u,getServiceTicket:d,getServiceTickets:l,storeServiceTicket:v,pagination:n,deleteServiceTicket:function(){var r=p(a().mark((function r(n){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o().delete(e+n);case 2:return r.next=4,t.push({name:"service-ticket.index"});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),updateServiceTicket:f}}},8270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(4359),a={class:"flex justify-between mb-2"},c=(0,n.createVNode)("h1",{class:"text-2xl font-bold"}," Service Tickets ",-1),o=(0,n.createTextVNode)(" Add "),s={class:"bg-white overflow-hidden shadow-sm rounded-lg"},i={class:"p-6 bg-white border-b border-gray-200"},u={class:"min-w-max w-full table-auto"},p=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal"},[(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Title"),(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Employee"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Type"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Priority"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Status"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Action")])],-1),l={class:"text-gray-900 text-sm font-light"},d={class:"py-2 px-2 text-left whitespace-nowrap"},v={class:"py-2 px-2 text-left whitespace-nowrap"},f={class:"py-2 px-2 text-center whitespace-nowrap"},x={class:"py-2 px-2 text-center whitespace-nowrap"},h={class:"py-2 px-2 text-center whitespace-nowrap"},y={class:"py-2 px-2 text-center whitespace-nowrap"},k={class:"flex item-center justify-center"};var w=r(7757),m=r.n(w),g=r(8450);function N(e,t,r,n,a,c,o){try{var s=e[c](o),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){N(c,n,a,o,s,"next",e)}function s(e){N(c,n,a,o,s,"throw",e)}o(void 0)}))}}const b={setup:function(e){var t=(0,n.ref)(!1),r=(0,n.ref)(0),a=(0,g.Z)(),c=a.serviceTickets,o=a.getServiceTickets,s=a.deleteServiceTicket;(0,n.onMounted)(o);var i=function(){var e=V(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value=!t.value;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{item_id:r,showModal:t,serviceTickets:c,destroyServiceTicket:function(){var e=V(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return i(),e.next=5,o();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),togglePopup:i,deleteServiceTicket:s}},render:function(e,t,r,w,m,g){var N=(0,n.resolveComponent)("router-link"),V=(0,n.resolveComponent)("edit-icon"),b=(0,n.resolveComponent)("delete-icon"),S=(0,n.resolveComponent)("app-confirm-delete");return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)("div",a,[c,(0,n.createVNode)(N,{to:{name:"service-ticket.create"},class:"link-blue"},{default:(0,n.withCtx)((function(){return[o]})),_:1},8,["to"])]),(0,n.createVNode)("div",s,[(0,n.createVNode)("div",i,[(0,n.createVNode)("table",u,[p,(0,n.createVNode)("tbody",l,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(w.serviceTickets,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t,class:"border-b border-gray-200 hover:bg-gray-100"},[(0,n.createVNode)("td",d,(0,n.toDisplayString)(e.title),1),(0,n.createVNode)("td",v,(0,n.toDisplayString)(e.user.first_name)+" "+(0,n.toDisplayString)(e.user.last_name),1),(0,n.createVNode)("td",f,(0,n.toDisplayString)(e.type),1),(0,n.createVNode)("td",x,(0,n.toDisplayString)(e.priority),1),(0,n.createVNode)("td",h,(0,n.toDisplayString)(e.status),1),(0,n.createVNode)("td",y,[(0,n.createVNode)("div",k,[(0,n.createVNode)(N,{to:{name:"service-ticket.edit",params:{id:e.id}},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(V)]})),_:2},1032,["to"]),(0,n.createVNode)("button",{type:"button",onClick:function(t){w.item_id=e.id,w.togglePopup()},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},[(0,n.createVNode)(b)],8,["onClick"])])])])})),128))])])])]),(0,n.withDirectives)((0,n.createVNode)(S,{modalHeadline:"Delete Service Ticket?",deleteMessage:"Are you sure?",onDeleteRecordEvent:t[1]||(t[1]=function(e){return w.destroyServiceTicket(w.item_id)}),onClose:w.togglePopup},null,8,["onClose"]),[[n.vShow,w.showModal]])],64)}},S=b}}]);