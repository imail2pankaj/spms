(self.webpackChunk=self.webpackChunk||[]).push([[521],{5320:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(7757),a=r.n(n),s=r(9669),o=r.n(s),u=r(4359),c=r(2119);function i(e,t,r,n,a,s,o){try{var u=e[s](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){i(s,n,a,o,u,"next",e)}function u(e){i(s,n,a,o,u,"throw",e)}o(void 0)}))}}function p(){var e=(0,c.tv)(),t=(0,u.ref)([]),r=(0,u.ref)([]),n=(0,u.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),s=(0,u.ref)({first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone_number:"",emergency_phone_number:"",profile_image:"",gender:"",marital_status:"",dob:"",join_date:"",resign_date:"",resume_file:"",address:"",city:"",state:"",country:"",user_status:"",roles:[],_method:"post"}),i=(0,u.ref)({first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone_number:"",emergency_phone_number:"",profile_image:"",gender:"",marital_status:"",dob:"",join_date:"",resign_date:"",resume_file:"",address:"",city:"",state:"",country:"",user_status:"",roles:""}),p=function(){var e=l(a().mark((function e(r){var s,u,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in s="?",r)s+=u+"="+r[u]+"&";return e.next=4,o().get("/api/users"+s);case 4:for(i in c=e.sent,t.value=c.data.data,n.value)n.value[i]=c.data[i];case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=l(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/api/users/"+t);case 2:r=e.sent,s.value=r.data,s.value.roles=r.data.roles[0].id;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/api/user/roles");case 2:t=e.sent,r.value=t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var t=l(a().mark((function t(r){var n,s,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in i.value)i.value[n]="";return t.prev=1,t.next=4,o().post("/api/users",r);case 4:return t.next=6,e.push({name:"user.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(u in s=t.t0.response.data.errors)i.value[u]=s[u][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=l(a().mark((function t(r,n){var s,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s in i.value)i.value[s]="";return t.prev=1,t.next=4,o().post("/api/users/"+r,n);case 4:return t.next=6,e.push({name:"user.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(c in u=t.t0.response.data.errors)i.value[c]=u[c][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}();return{user:s,users:t,errors:i,getUser:d,getUsers:p,storeUser:m,pagination:n,deleteUser:function(){var t=l(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().delete("/api/users/"+r);case 2:return t.next=4,e.push({name:"user.index"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateUser:v,rolesOptions:r,getBank:function(){var e=l(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/api/user/"+t+"/bank");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateBank:function(){var t=l(a().mark((function t(r,n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().post("/api/user/"+r+"/bank",n);case 3:return t.next=5,e.push({name:"user.index"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.status;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),getRolesDropdown:f}}},9521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r(4359),a={class:"fixed inset-0 flex justify-end z-50"},s=(0,n.createVNode)("div",{class:"fixed inset-0"},[(0,n.createVNode)("div",{class:"absolute inset-0 bg-gray-600 opacity-75"})],-1),o={class:"relative flex-1 flex flex-col max-w-xs md:max-w-sm lg:max-w-lg bg-white"},u={class:"absolute top-0 left-0 -ml-12 pt-2"},c=(0,n.createVNode)("span",{class:"sr-only"},"Close",-1),i=(0,n.createVNode)("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,n.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),l={class:"block pt-4 pb-4 overflow-y-auto h-screen"},p={class:"block w-full px-4 mb-12"},d=(0,n.createVNode)("h3",{class:"input-form-sub-heading mb-4 w-full",style:{paddingTop:0}},"Edit Bank",-1),f={class:"mb-6"},m={for:"account_name",class:"input-form-label"},v=(0,n.createTextVNode)("Account Name "),h={class:"mb-6"},b=(0,n.createVNode)("label",{for:"account_number",class:"input-form-label"},"Account Number ",-1),x={class:"mb-6"},w=(0,n.createVNode)("label",{for:"ifsc_code",class:"input-form-label"},"IFS Code ",-1),_={class:"mb-6"},N=(0,n.createVNode)("label",{for:"bank_name",class:"input-form-label"},"Bank Name ",-1),k={class:"mb-6"},V=(0,n.createVNode)("label",{for:"branch_name",class:"input-form-label"},"Branch Name ",-1),g={class:"mb-16"},y=(0,n.createVNode)("label",{for:"pan_number",class:"input-form-label"},"PAN Number ",-1),B={class:"absolute bottom-0 right-0 w-full"},C={class:"px-4 py-3 bg-gray-200 text-left sm:px-6"},U=(0,n.createVNode)("button",{type:"submit",class:"btn-blue"}," Save ",-1),M=(0,n.createVNode)("div",{class:"flex-shrink-0"},null,-1);var T=r(7757),D=r.n(T),A=r(2119),P=r(5320),j=r(2871);function S(e,t,r,n,a,s,o){try{var u=e[s](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){S(s,n,a,o,u,"next",e)}function u(e){S(s,n,a,o,u,"throw",e)}o(void 0)}))}}const F={props:{id:{required:!0,type:String}},setup:function(e,t){t.emit;var r=(0,A.tv)(),a=e.id,s=(0,n.ref)({account_name:"",account_number:"",ifsc_code:"",bank_name:"",branch_name:"",pan_number:""}),o=(0,P.Z)(),u=o.getBank,c=o.updateBank;(0,n.onMounted)(q(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(a);case 2:s.value=e.sent;case 3:case"end":return e.stop()}}),e)}))));var i=function(){var e=q(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.value._method="put",e.next=3,c(a,s.value);case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){r.push({name:"user.index",params:{time:(0,j.GQ)()}})};return{saveBank:i,user:s,goBack:l}},render:function(e,t,r,T,D,A){var P=(0,n.resolveComponent)("app-required");return(0,n.openBlock)(),(0,n.createBlock)("div",a,[s,(0,n.createVNode)(n.Transition,{name:"slide-from-left"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",o,[(0,n.createVNode)("div",u,[(0,n.createVNode)("button",{onClick:t[1]||(t[1]=function(e){return T.goBack()}),class:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none"},[c,i])]),(0,n.createVNode)("form",{onSubmit:t[9]||(t[9]=(0,n.withModifiers)((function(){return T.saveBank&&T.saveBank.apply(T,arguments)}),["prevent"]))},[(0,n.createVNode)("div",l,[(0,n.createVNode)("div",p,[d,(0,n.createVNode)("div",f,[(0,n.createVNode)("label",m,[v,(0,n.createVNode)(P)]),(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"Account Name","onUpdate:modelValue":t[2]||(t[2]=function(e){return T.user.account_name=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.account_name]])]),(0,n.createVNode)("div",h,[b,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"Account Number","onUpdate:modelValue":t[3]||(t[3]=function(e){return T.user.account_number=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.account_number]])]),(0,n.createVNode)("div",x,[w,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"IFS Code","onUpdate:modelValue":t[4]||(t[4]=function(e){return T.user.ifsc_code=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.ifsc_code]])]),(0,n.createVNode)("div",_,[N,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"Bank Name","onUpdate:modelValue":t[5]||(t[5]=function(e){return T.user.bank_name=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.bank_name]])]),(0,n.createVNode)("div",k,[V,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"Branch Name","onUpdate:modelValue":t[6]||(t[6]=function(e){return T.user.branch_name=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.branch_name]])]),(0,n.createVNode)("div",g,[y,(0,n.withDirectives)((0,n.createVNode)("input",{type:"text",placeholder:"PAN Number","onUpdate:modelValue":t[7]||(t[7]=function(e){return T.user.pan_number=e}),class:"input-form-control"},null,512),[[n.vModelText,T.user.pan_number]])])]),(0,n.createVNode)("div",B,[(0,n.createVNode)("div",C,[U,(0,n.createVNode)("button",{onClick:t[8]||(t[8]=function(e){return T.goBack()}),type:"button",class:"btn-red ml-3"}," Cancel ")])])])],32)])]})),_:1}),M])}},I=F}}]);