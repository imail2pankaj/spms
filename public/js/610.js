(self.webpackChunk=self.webpackChunk||[]).push([[610],{5320:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(7757),a=r.n(n),o=r(9669),s=r.n(o),u=r(4359),c=r(2119);function i(e,t,r,n,a,o,s){try{var u=e[o](s),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,u,"next",e)}function u(e){i(o,n,a,s,u,"throw",e)}s(void 0)}))}}function p(){var e=(0,c.tv)(),t=(0,u.ref)([]),r=(0,u.ref)([]),n=(0,u.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),o=(0,u.ref)({first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone_number:"",emergency_phone_number:"",profile_image:"",gender:"",marital_status:"",dob:"",join_date:"",resign_date:"",resume_file:"",address:"",city:"",state:"",country:"",user_status:"",roles:[],_method:"post"}),i=(0,u.ref)({first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone_number:"",emergency_phone_number:"",profile_image:"",gender:"",marital_status:"",dob:"",join_date:"",resign_date:"",resume_file:"",address:"",city:"",state:"",country:"",user_status:"",roles:""}),p=function(){var e=l(a().mark((function e(r){var o,u,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in o="?",r)o+=u+"="+r[u]+"&";return e.next=4,s().get("/api/users"+o);case 4:for(i in c=e.sent,t.value=c.data.data,n.value)n.value[i]=c.data[i];case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=l(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/users/"+t);case 2:r=e.sent,o.value=r.data,o.value.roles=r.data.roles[0].id;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/user/roles");case 2:t=e.sent,r.value=t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var t=l(a().mark((function t(r){var n,o,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in i.value)i.value[n]="";return t.prev=1,t.next=4,s().post("/api/users",r);case 4:return t.next=6,e.push({name:"user.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(u in o=t.t0.response.data.errors)i.value[u]=o[u][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=l(a().mark((function t(r,n){var o,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in i.value)i.value[o]="";return t.prev=1,t.next=4,s().post("/api/users/"+r,n);case 4:return t.next=6,e.push({name:"user.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(c in u=t.t0.response.data.errors)i.value[c]=u[c][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}();return{user:o,users:t,errors:i,getUser:d,getUsers:p,storeUser:v,pagination:n,deleteUser:function(){var t=l(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().delete("/api/users/"+r);case 2:return t.next=4,e.push({name:"user.index"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateUser:m,rolesOptions:r,getBank:function(){var e=l(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/user/"+t+"/bank");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateBank:function(){var t=l(a().mark((function t(r,n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s().post("/api/user/"+r+"/bank",n);case 3:return t.next=5,e.push({name:"user.index"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.status;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),getRolesDropdown:f}}},1610:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var n=r(4359),a={class:"flex justify-between mb-2"},o=(0,n.createVNode)("h1",{class:"text-2xl font-bold"}," Users ",-1),s=(0,n.createTextVNode)(" Add "),u={class:"bg-white overflow-hidden shadow-sm rounded-lg"},c={class:"p-6 bg-white border-b border-gray-200"},i={class:"min-w-max w-full table-auto"},l=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal"},[(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Name"),(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Role"),(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Email"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Status"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Action")])],-1),p={class:"text-gray-900 text-sm font-light"},d={class:"py-2 px-2 text-left whitespace-nowrap"},f={class:"py-2 px-2 text-left whitespace-nowrap"},v={class:"py-2 px-2 text-left whitespace-nowrap"},m={class:"py-2 px-2 text-center whitespace-nowrap"},h={class:"py-2 px-2 text-center whitespace-nowrap"},x={class:"flex item-center justify-center"},w=(0,n.createVNode)("i",{class:"fa fa-piggy-bank"},null,-1);var g=r(7757),y=r.n(g),k=r(5320);function _(e,t,r,n,a,o,s){try{var u=e[o](s),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){_(o,n,a,s,u,"next",e)}function u(e){_(o,n,a,s,u,"throw",e)}s(void 0)}))}}const N={setup:function(e){var t=(0,k.Z)(),r=t.users,a=t.pagination,o=t.getUsers,s=t.deleteUser,u=(0,n.ref)(!1),c=(0,n.ref)(0),i=(0,n.ref)({});(0,n.onMounted)(b(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));var l=function(){var e=b(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.value=i,e.next=3,o(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=b(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return e.next=4,o(i.value);case 4:d();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){u.value=!u.value};return{users:r,item_id:c,showModal:u,pagination:a,searchData:l,togglePopup:d,destroyUser:p}},render:function(e,t,r,g,y,k){var _=(0,n.resolveComponent)("router-link"),b=(0,n.resolveComponent)("app-status"),N=(0,n.resolveComponent)("view-icon"),V=(0,n.resolveComponent)("edit-icon"),C=(0,n.resolveComponent)("delete-icon"),B=(0,n.resolveComponent)("app-datatables"),U=(0,n.resolveComponent)("app-confirm-delete"),D=(0,n.resolveComponent)("router-view");return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)("div",a,[o,(0,n.createVNode)(_,{to:{name:"user.create"},class:"link-blue"},{default:(0,n.withCtx)((function(){return[s]})),_:1},8,["to"])]),(0,n.createVNode)("div",u,[(0,n.createVNode)("div",c,[(0,n.createVNode)(B,{pagination:g.pagination,onChangePageEvent:g.searchData},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("table",i,[l,(0,n.createVNode)("tbody",p,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(g.users,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t,class:"border-b border-gray-200 hover:bg-gray-100"},[(0,n.createVNode)("td",d,(0,n.toDisplayString)(e.first_name+" "+e.last_name),1),(0,n.createVNode)("td",f,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e.roles,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:t},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1)],64)})),128))]),(0,n.createVNode)("td",v,(0,n.toDisplayString)(e.email),1),(0,n.createVNode)("td",m,[(0,n.createVNode)(b,{status:e.user_status},null,8,["status"])]),(0,n.createVNode)("td",h,[(0,n.createVNode)("div",x,[(0,n.createVNode)(_,{to:"",class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(N)]})),_:1}),(0,n.createVNode)(_,{to:{name:"user.bank",params:{id:e.id}},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[w]})),_:2},1032,["to"]),(0,n.createVNode)(_,{to:{name:"user.edit",params:{id:e.id}},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(V)]})),_:2},1032,["to"]),(0,n.createVNode)("button",{type:"button",onClick:function(t){g.item_id=e.id,g.togglePopup()},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},[(0,n.createVNode)(C)],8,["onClick"])])])])})),128))])])]})),_:1},8,["pagination","onChangePageEvent"])])]),(0,n.withDirectives)((0,n.createVNode)(U,{modalHeadline:"Delete User?",deleteMessage:"Are you sure?",onDeleteRecordEvent:t[1]||(t[1]=function(e){return g.destroyUser(g.item_id)}),onClose:g.togglePopup},null,8,["onClose"]),[[n.vShow,g.showModal]]),(0,n.createVNode)(D,e.$attrs,{default:(0,n.withCtx)((function(e){var t=e.Component;return[(0,n.createVNode)(n.Transition,{name:"fade",mode:"out-in"},{default:(0,n.withCtx)((function(){return[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t)))]})),_:2},1024)]})),_:1},16)],64)}},V=N}}]);