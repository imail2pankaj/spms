(self.webpackChunk=self.webpackChunk||[]).push([[605],{2561:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(7757),n=r.n(a),o=r(9669),s=r.n(o),c=r(4359),i=r(2119);function l(e,t,r,a,n,o,s){try{var c=e[o](s),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(a,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function s(e){l(o,a,n,s,c,"next",e)}function c(e){l(o,a,n,s,c,"throw",e)}s(void 0)}))}}function d(){var e,t,r,a="/api/user-leaves",o=(0,i.tv)(),l=(0,c.ref)([]),d=(0,c.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),p=(0,c.ref)({description:"",comment:"",start_date:"",end_date:"",type:"Half",status:"Applied",_method:"post"}),f=(0,c.ref)((r="",(t="type")in(e={description:"",comment:"",start_date:"",end_date:"",type:"",status:""})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e)),v=function(){var e=u(n().mark((function e(t){var r,o,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in r="?",t)r+=o+"="+t[o]+"&";return e.next=4,s().get(a+r);case 4:for(i in c=e.sent,l.value=c.data.data,d.value)d.value[i]=c.data[i];case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=u(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get(a+"/"+t);case 2:r=e.sent,p.value=r.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=u(n().mark((function e(t){var r,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in f.value)f.value[r]="";return e.prev=1,e.next=4,s().post(a,t);case 4:return e.next=6,o.push({name:"leave.index"});case 6:e.next=11;break;case 8:if(e.prev=8,e.t0=e.catch(1),422===e.t0.response.status)for(i in c=e.t0.response.data.errors)f.value[i]=c[i][0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=u(n().mark((function e(t,r){var c,i,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in f.value)f.value[c]="";return e.prev=1,e.next=4,s().post(a+"/"+t,r);case 4:return e.next=6,o.push({name:"leave.index"});case 6:e.next=11;break;case 8:if(e.prev=8,e.t0=e.catch(1),422===e.t0.response.status)for(l in i=e.t0.response.data.errors)f.value[l]=i[l][0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}();return{leave:p,leaves:l,errors:f,getLeave:m,getLeaves:v,storeLeave:y,pagination:d,deleteLeave:function(){var e=u(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete(a+"/"+t);case 2:return e.next=4,o.push({name:"leave.index"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateLeave:h}}},9605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>H});var a=r(4359),n={class:"flex justify-between mb-2"},o=(0,a.createVNode)("h1",{class:"text-2xl font-bold"}," Leave Create ",-1),s=(0,a.createTextVNode)(" List "),c={class:"bg-white overflow-hidden shadow-sm rounded-lg"},i={class:"bg-white border-b border-gray-200"},l={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},u={class:"mb-6"},d={for:"description",class:"input-form-label"},p=(0,a.createTextVNode)("Description "),f={key:0,class:"input-error"},v={class:"md:grid md:grid-cols-3 md:gap-6"},m={class:"mb-6"},y={for:"start_date",class:"input-form-label"},h=(0,a.createTextVNode)("Date "),b={key:0,class:"input-error"},k={class:"mb-6"},V={for:"end_date",class:"input-form-label"},x=(0,a.createTextVNode)("End Date "),g={key:0,class:"input-error"},D={class:"mb-6"},N=(0,a.createVNode)("label",{for:"type",class:"input-form-label"},"Type",-1),w={key:0,class:"mb-6"},_=(0,a.createVNode)("label",{for:"status",class:"input-form-label"},"Status",-1),B={key:1,class:"mb-6"},C=(0,a.createVNode)("label",{for:"comment",class:"input-form-label"},"Comment",-1),Y={class:"px-4 py-3 bg-gray-50 text-left sm:px-6"},M={key:0};var S=r(7757),L=r.n(S),T=r(7013),U=r(381),F=r.n(U),O=r(2561),P=r(2871);function q(e,t,r,a,n,o,s){try{var c=e[o](s),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(a,n)}const A={setup:function(){var e=(0,T.oR)(),t=(0,a.computed)((function(){return e.state.user})),r=(0,a.ref)(0),n=(0,a.ref)(!1),o=(0,a.ref)(!1),s=(0,O.Z)(),c=s.errors,i=s.storeLeave,l=(0,a.ref)({description:"",comment:"",start_date:F()().format("YYYY-MM-DD"),end_date:F()().format("YYYY-MM-DD"),type:"Half",status:"Applied"});return{form:l,errors:c,saveLeave:function(){var e,t=(e=L().mark((function e(){var t,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n.value=!0,t=new FormData,l.value)t.append(r,l.value[r]);return e.next=5,i(t);case 5:n.value=!1;case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function s(e){q(o,a,n,s,c,"next",e)}function c(e){q(o,a,n,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),submitting:n,handleDate:function(e){var t=F()(l.value.start_date,"YYYY-MM-DD"),a=F()(l.value.end_date,"YYYY-MM-DD");t>a?(c.value.end_date="End date can not be less than start date",o.value=!0):(c.value.end_date="",o.value=!1),r.value=F().duration(a.diff(t)).asDays(),l.value.type=r>=1?"Full":"Half"},managementRoles:P.T4,user:t,disabled:o,leaveStatusOptions:P.m3,leaveTypeOptions:P.fA,diffDays:r}},render:function(e,t,r,S,L,T){var U=(0,a.resolveComponent)("router-link"),F=(0,a.resolveComponent)("app-required");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[(0,a.createVNode)("div",n,[o,(0,a.createVNode)(U,{to:{name:"leave.index"},class:"link-blue"},{default:(0,a.withCtx)((function(){return[s]})),_:1},8,["to"])]),(0,a.createVNode)("form",{onSubmit:t[9]||(t[9]=(0,a.withModifiers)((function(){return S.saveLeave&&S.saveLeave.apply(S,arguments)}),["prevent"]))},[(0,a.createVNode)("div",c,[(0,a.createVNode)("div",i,[(0,a.createVNode)("div",l,[(0,a.createVNode)("div",u,[(0,a.createVNode)("label",d,[p,(0,a.createVNode)(F)]),(0,a.withDirectives)((0,a.createVNode)("textarea",{placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=function(e){return S.form.description=e}),id:"description",name:"description",class:"input-form-control",required:""},null,512),[[a.vModelText,S.form.description]]),S.errors.description?((0,a.openBlock)(),(0,a.createBlock)("span",f,(0,a.toDisplayString)(S.errors.description),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",v,[(0,a.createVNode)("div",m,[(0,a.createVNode)("label",y,[h,(0,a.createVNode)(F)]),(0,a.withDirectives)((0,a.createVNode)("input",{type:"date",onChange:t[2]||(t[2]=function(){return S.handleDate&&S.handleDate.apply(S,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return S.form.start_date=e}),id:"start_date",name:"start_date",class:"input-form-control",placeholder:"Joining Date",required:""},null,544),[[a.vModelText,S.form.start_date]]),S.errors.start_date?((0,a.openBlock)(),(0,a.createBlock)("span",b,(0,a.toDisplayString)(S.errors.start_date),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",k,[(0,a.createVNode)("label",V,[x,(0,a.createVNode)(F)]),(0,a.withDirectives)((0,a.createVNode)("input",{type:"date",onChange:t[4]||(t[4]=function(){return S.handleDate&&S.handleDate.apply(S,arguments)}),"onUpdate:modelValue":t[5]||(t[5]=function(e){return S.form.end_date=e}),id:"end_date",name:"end_date",class:"input-form-control",placeholder:"Joining Date",required:""},null,544),[[a.vModelText,S.form.end_date]]),S.errors.end_date?((0,a.openBlock)(),(0,a.createBlock)("span",g,(0,a.toDisplayString)(S.errors.end_date),1)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",D,[N,(0,a.withDirectives)((0,a.createVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.form.type=e}),name:"type",id:"type",class:"input-form-control"},[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(S.leaveTypeOptions,(function(e){return(0,a.openBlock)(),(0,a.createBlock)("option",{key:e,value:e},(0,a.toDisplayString)(e)+" Day ",9,["value"])})),128))],512),[[a.vModelSelect,S.form.type]])]),S.managementRoles().includes(S.user.role)?((0,a.openBlock)(),(0,a.createBlock)("div",w,[_,(0,a.withDirectives)((0,a.createVNode)("select",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return S.form.status=e}),name:"status",id:"status",class:"input-form-control"},[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(S.leaveStatusOptions,(function(e){return(0,a.openBlock)(),(0,a.createBlock)("option",{key:e,value:e},(0,a.toDisplayString)(e),9,["value"])})),128))],512),[[a.vModelSelect,S.form.status]])])):(0,a.createCommentVNode)("",!0),"Applied"!==S.form.status?((0,a.openBlock)(),(0,a.createBlock)("div",B,[C,(0,a.withDirectives)((0,a.createVNode)("textarea",{placeholder:"Comment","onUpdate:modelValue":t[8]||(t[8]=function(e){return S.form.comment=e}),id:"comment",name:"comment",class:"input-form-control"},null,512),[[a.vModelText,S.form.comment]])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)("div",Y,[(0,a.createVNode)("button",{type:"submit",class:"btn-blue",disabled:S.disabled||S.submitting},(0,a.toDisplayString)(S.submitting?"Saving":"Save"),9,["disabled"]),S.diffDays>=0?((0,a.openBlock)(),(0,a.createBlock)("span",M," Leave "+(0,a.toDisplayString)(S.diffDays+1)+" Day(s)",1)):(0,a.createCommentVNode)("",!0)])])])],32)],64)}},H=A}}]);