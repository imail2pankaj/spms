(self.webpackChunk=self.webpackChunk||[]).push([[965],{9965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var o=r(4359),a={class:"fixed inset-0 flex justify-end z-50"},l=(0,o.createVNode)("div",{class:"fixed inset-0"},[(0,o.createVNode)("div",{class:"absolute inset-0 bg-gray-600 opacity-75"})],-1),n={class:"relative flex-1 flex flex-col max-w-xs md:max-w-sm lg:max-w-lg bg-white"},s={class:"absolute top-0 left-0 -ml-12 pt-2"},i=(0,o.createVNode)("span",{class:"sr-only"},"Close",-1),c=(0,o.createVNode)("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,o.createVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),d={class:"block pt-4 pb-4 overflow-y-auto h-screen"},u={class:"block w-full px-4 mb-12"},p={class:"input-form-sub-heading mb-4 w-full",style:{paddingTop:0}},k={class:"mb-6"},f={for:"title",class:"input-form-label"},m=(0,o.createTextVNode)("Title "),v={key:0,class:"input-error"},V={class:"mb-6"},N={for:"description",class:"input-form-label"},y=(0,o.createTextVNode)("Description "),g={key:0,class:"input-error"},b={class:"mb-6"},h=(0,o.createVNode)("label",{for:"user_id",class:"input-form-label"},"Assigned To",-1),x=(0,o.createVNode)("option",{value:""}," - Assign Task To - ",-1),w={key:0,class:"input-error"},B={class:"md:grid md:grid-cols-2 md:gap-6 mb-6"},T=(0,o.createVNode)("label",{for:"task_type",class:"input-form-label"},"Task Type",-1),D=(0,o.createVNode)("label",{for:"priority",class:"input-form-label"},"Task Priority",-1),_={class:"md:grid md:grid-cols-2 md:gap-6 mb-6"},S={class:"mb-6"},C=(0,o.createVNode)("label",{for:"due_date",class:"input-form-label"},"Due Date",-1),M={key:0,class:"input-error"},U=(0,o.createVNode)("label",{for:"completion_rate",class:"input-form-label"},"Completed",-1),q=(0,o.createVNode)("br",null,null,-1),j={class:"text-xs text-gray-400"},F=(0,o.createVNode)("h3",null,"History",-1),L={class:"w-full font-xs text-gray-500"},O=(0,o.createVNode)("thead",null,[(0,o.createVNode)("tr",null,[(0,o.createVNode)("th",{class:"text-left"},"Description"),(0,o.createVNode)("th",null,"Date")])],-1),A={class:"absolute bottom-0 right-0 w-full"},P={class:"px-4 py-3 bg-gray-200 text-left sm:px-6"},H=(0,o.createVNode)("button",{type:"submit",class:"btn-blue"}," Save ",-1),z=(0,o.createVNode)("div",{class:"flex-shrink-0"},null,-1);var E=r(7757),J=r.n(E),Y=r(6252),Z=r(2262),$=r(2119),G=r(408),I=r(2871);function K(e,t,r,o,a,l,n){try{var s=e[l](n),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(o,a)}function Q(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var l=e.apply(t,r);function n(e){K(l,o,a,n,s,"next",e)}function s(e){K(l,o,a,n,s,"throw",e)}n(void 0)}))}}const R={props:{slug:{required:!0,type:String},id:{required:!0,type:String}},setup:function(e,t){var r=t.emit,o=(0,$.tv)(),a=e.id,l=e.slug,n=(0,G.Z)(),s=n.task,i=n.errors,c=n.getTask,d=n.updateTask,u=n.getAssignedToUsers,p=(0,Z.iH)([]);(0,Y.bv)(Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return p.value=e.sent,e.next=5,c(a);case 5:case"end":return e.stop()}}),e)}))));var k=function(){var e=Q(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.value._method="put",e.next=3,d(a,s.value);case 3:f();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){r("clicked","someValue"),o.push({name:"project.task",params:{slug:l}})};return{task:s,errors:i,saveTask:k,taskTypeOptions:I.bJ,priorityOptions:I.jY,assignedToUsers:p,goBack:f}},render:function(e,t,r,E,J,Y){var Z=(0,o.resolveComponent)("app-required");return(0,o.openBlock)(),(0,o.createBlock)("div",a,[l,(0,o.createVNode)(o.Transition,{name:"slide-from-left"},{default:(0,o.withCtx)((function(){var r;return[(0,o.createVNode)("div",n,[(0,o.createVNode)("div",s,[(0,o.createVNode)("button",{onClick:t[1]||(t[1]=function(e){return E.goBack()}),class:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none"},[i,c])]),(0,o.createVNode)("form",{onSubmit:t[10]||(t[10]=(0,o.withModifiers)((function(){return E.saveTask&&E.saveTask.apply(E,arguments)}),["prevent"]))},[(0,o.createVNode)("div",d,[(0,o.createVNode)("div",u,[(0,o.createVNode)("h3",p,(0,o.toDisplayString)(null!==(r=E.task.title)&&void 0!==r?r:"Edit Task"),1),(0,o.createVNode)("div",k,[(0,o.createVNode)("label",f,[m,(0,o.createVNode)(Z)]),(0,o.withDirectives)((0,o.createVNode)("input",{type:"text",placeholder:"Task Title","onUpdate:modelValue":t[2]||(t[2]=function(e){return E.task.title=e}),class:"input-form-control",required:""},null,512),[[o.vModelText,E.task.title]]),E.errors.title?((0,o.openBlock)(),(0,o.createBlock)("span",v,(0,o.toDisplayString)(E.errors.title),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",V,[(0,o.createVNode)("label",N,[y,(0,o.createVNode)(Z)]),(0,o.withDirectives)((0,o.createVNode)("textarea",{type:"text",placeholder:"Task description","onUpdate:modelValue":t[3]||(t[3]=function(e){return E.task.description=e}),class:"input-form-control",required:""},null,512),[[o.vModelText,E.task.description]]),E.errors.description?((0,o.openBlock)(),(0,o.createBlock)("span",g,(0,o.toDisplayString)(E.errors.description),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",b,[h,(0,o.withDirectives)((0,o.createVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return E.task.user_id=e}),class:"input-form-control"},[x,((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(E.assignedToUsers,(function(e){return(0,o.openBlock)(),(0,o.createBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.first_name)+" "+(0,o.toDisplayString)(e.last_name),9,["value"])})),128))],512),[[o.vModelSelect,E.task.user_id]]),E.errors.user_id?((0,o.openBlock)(),(0,o.createBlock)("span",w,(0,o.toDisplayString)(E.errors.user_id),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",B,[(0,o.createVNode)("div",null,[T,(0,o.withDirectives)((0,o.createVNode)("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return E.task.task_type=e}),class:"input-form-control"},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(E.taskTypeOptions,(function(e){return(0,o.openBlock)(),(0,o.createBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,["value"])})),128))],512),[[o.vModelSelect,E.task.task_type]])]),(0,o.createVNode)("div",null,[D,(0,o.withDirectives)((0,o.createVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return E.task.priority=e}),class:"input-form-control"},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(E.priorityOptions,(function(e){return(0,o.openBlock)(),(0,o.createBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,["value"])})),128))],512),[[o.vModelSelect,E.task.priority]])])]),(0,o.createVNode)("div",_,[(0,o.createVNode)("div",S,[C,(0,o.withDirectives)((0,o.createVNode)("input",{type:"date",placeholder:"Task Due Date","onUpdate:modelValue":t[7]||(t[7]=function(e){return E.task.due_date=e}),class:"input-form-control",required:""},null,512),[[o.vModelText,E.task.due_date]]),E.errors.due_date?((0,o.openBlock)(),(0,o.createBlock)("span",M,(0,o.toDisplayString)(E.errors.due_date),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",null,[U,(0,o.withDirectives)((0,o.createVNode)("input",{type:"range",step:"1",min:"0",max:"100",class:"w-full","onUpdate:modelValue":t[8]||(t[8]=function(e){return E.task.completion_rate=e})},null,512),[[o.vModelText,E.task.completion_rate]]),q,(0,o.createVNode)("span",j,(0,o.toDisplayString)(E.task.completion_rate)+"%",1)])]),F,(0,o.createVNode)("table",L,[O,((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(E.task.history,(function(t,r){return(0,o.openBlock)(),(0,o.createBlock)("tr",{key:r},[(0,o.createVNode)("td",null,(0,o.toDisplayString)(t.description),1),(0,o.createVNode)("td",null,(0,o.toDisplayString)(e.$filters.convertDateFormat(t.created_at)),1)])})),128))])]),(0,o.createVNode)("div",A,[(0,o.createVNode)("div",P,[H,(0,o.createVNode)("button",{onClick:t[9]||(t[9]=function(e){return E.goBack()}),type:"button",class:"btn-red ml-3"}," Cancel ")])])])],32)])]})),_:1}),z])}},W=R}}]);