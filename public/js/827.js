(self.webpackChunk=self.webpackChunk||[]).push([[827],{5216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(7757),o=r.n(n),a=r(9669),s=r.n(a),c=r(4359),u=r(2119);function i(e,t,r,n,o,a,s){try{var c=e[a](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}function p(){var e=(0,u.tv)(),t=(0,c.ref)({name:"",permission:[],_method:"post"}),r=(0,c.ref)([]),n=(0,c.ref)([]),a=(0,c.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),i=(0,c.ref)({name:"",permission:""}),p=function(){var e=l(o().mark((function e(t){var n,c,u,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in n="?",t)n+=c+"="+t[c]+"&";return e.next=4,s().get("/api/roles"+n);case 4:for(i in u=e.sent,r.value=u.data.data,a.value)a.value[i]=u.data[i];case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=l(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/roles/"+r);case 2:n=e.sent,t.value=n.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/permissions");case 2:t=e.sent,n.value=t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var t=l(o().mark((function t(r){var n,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in i.value)i.value[n]="";return t.prev=1,t.next=4,s().post("/api/roles",r);case 4:return t.next=6,e.push({name:"role.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(c in a=t.t0.response.data.errors)i.value[c]=a[c][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=l(o().mark((function t(r,n){var a,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a in i.value)i.value[a]="";return t.prev=1,t.next=4,s().post("/api/roles/"+r,n);case 4:return t.next=6,e.push({name:"role.index"});case 6:t.next=11;break;case 8:if(t.prev=8,t.t0=t.catch(1),422===t.t0.response.status)for(u in c=t.t0.response.data.errors)i.value[u]=c[u][0];case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}();return{errors:i,role:t,roles:r,getRole:d,getRoles:p,storeRole:v,pagination:a,deleteRole:function(){var e=l(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete("/api/roles/"+t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateRole:h,permissionsOptions:n,getPermissionsDropdown:f}}},9827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var n=r(4359),o={class:"flex justify-between mb-2"},a=(0,n.createVNode)("h1",{class:"text-2xl font-bold"},"Roles",-1),s=(0,n.createTextVNode)(" Add "),c={class:"bg-white overflow-hidden shadow-sm rounded-lg"},u={class:"p-6 bg-white border-b border-gray-200"},i={class:"min-w-max w-full table-auto"},l=(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal"},[(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Name"),(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Action")])],-1),p={class:"text-gray-900 text-sm font-light"},d={class:"py-2 px-2 text-left whitespace-nowrap"},f={class:"py-2 px-2 text-center whitespace-nowrap"},v={class:"flex item-center justify-center"};var h=r(7757),m=r.n(h),x=r(5216);function w(e,t,r,n,o,a,s){try{var c=e[a](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){w(a,n,o,s,c,"next",e)}function c(e){w(a,n,o,s,c,"throw",e)}s(void 0)}))}}const y={setup:function(e){var t=(0,n.ref)(!1),r=(0,n.ref)(0),o=(0,x.Z)(),a=o.roles,s=o.pagination,c=o.getRoles,u=o.deleteRole;(0,n.onMounted)((function(){}));var i=function(){var e=g(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=g(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.value=!t.value;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{item_id:r,showModal:t,roles:a,pagination:s,destroyRole:function(){var e=g(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return l(),e.next=5,c();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),togglePopup:l,deleteRole:u,searchData:i}},render:function(e,t,r,h,m,x){var w=(0,n.resolveComponent)("router-link"),g=(0,n.resolveComponent)("view-icon"),y=(0,n.resolveComponent)("edit-icon"),k=(0,n.resolveComponent)("delete-icon"),b=(0,n.resolveComponent)("app-datatables"),N=(0,n.resolveComponent)("app-confirm-delete");return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)("div",o,[a,(0,n.createVNode)(w,{to:{name:"role.create"},class:"link-blue"},{default:(0,n.withCtx)((function(){return[s]})),_:1},8,["to"])]),(0,n.createVNode)("div",c,[(0,n.createVNode)("div",u,[(0,n.createVNode)(b,{pagination:h.pagination,onChangePageEvent:h.searchData},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("table",i,[l,(0,n.createVNode)("tbody",p,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(h.roles,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t,class:"border-b border-gray-200 hover:bg-gray-100"},[(0,n.createVNode)("td",d,(0,n.toDisplayString)(e.name),1),(0,n.createVNode)("td",f,[(0,n.createVNode)("div",v,[(0,n.createVNode)(w,{to:"",class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110 "},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(g)]})),_:1}),(0,n.createVNode)(w,{to:{name:"role.edit",params:{id:e.id}},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(y)]})),_:2},1032,["to"]),(0,n.createVNode)("button",{type:"button",onClick:function(t){h.item_id=e.id,h.togglePopup()},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110 "},[(0,n.createVNode)(k)],8,["onClick"])])])])})),128))])])]})),_:1},8,["pagination","onChangePageEvent"])])]),(0,n.withDirectives)((0,n.createVNode)(N,{modalHeadline:"Delete Role?",deleteMessage:"Are you sure?",onDeleteRecordEvent:t[1]||(t[1]=function(e){return h.destroyRole(h.item_id)}),onClose:h.togglePopup},null,8,["onClose"]),[[n.vShow,h.showModal]])],64)}},k=y}}]);