(self.webpackChunk=self.webpackChunk||[]).push([[718],{2561:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(7757),a=r.n(n),o=r(9669),s=r.n(o),c=r(4359),u=r(2119);function i(e,t,r,n,a,o,s){try{var c=e[o](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,c,"next",e)}function c(e){i(o,n,a,s,c,"throw",e)}s(void 0)}))}}function p(){var e,t,r,n="/api/user-leaves/",o=(0,u.tv)(),i=(0,c.ref)([]),p=(0,c.ref)({current_page:1,total:0,per_page:5,last_page:0,links:[]}),d=(0,c.ref)({description:"",comment:"",start_date:"",end_date:"",type:"Half",status:"Applied",_method:"post"}),f=(0,c.ref)((r="",(t="type")in(e={description:"",comment:"",start_date:"",end_date:"",type:"",status:""})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e)),v=function(){var e=l(a().mark((function e(t){var r,o,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in r="?",t)r+=o+"="+t[o]+"&";return e.next=4,s().get(n+r);case 4:for(u in c=e.sent,i.value=c.data.data,p.value)p.value[u]=c.data[u];case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=l(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get(n+t);case 2:r=e.sent,d.value=r.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=l(a().mark((function e(t){var r,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in f.value)f.value[r]="";return e.prev=1,e.next=4,s().post(n,t);case 4:return e.next=6,o.push({name:"leave.index"});case 6:e.next=11;break;case 8:if(e.prev=8,e.t0=e.catch(1),422===e.t0.response.status)for(u in c=e.t0.response.data.errors)f.value[u]=c[u][0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=l(a().mark((function e(t,r){var c,u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in f.value)f.value[c]="";return e.prev=1,e.next=4,s().post(n+t,r);case 4:return e.next=6,o.push({name:"leave.index"});case 6:e.next=11;break;case 8:if(e.prev=8,e.t0=e.catch(1),422===e.t0.response.status)for(i in u=e.t0.response.data.errors)f.value[i]=u[i][0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}();return{leave:d,leaves:i,errors:f,getLeave:h,getLeaves:v,storeLeave:x,pagination:p,deleteLeave:function(){var e=l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete(n+t);case 2:return e.next=4,o.push({name:"leave.index"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateLeave:m}}},9718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var n=r(4359),a={class:"flex justify-between mb-2"},o=(0,n.createVNode)("h1",{class:"text-2xl font-bold"}," Leaves ",-1),s=(0,n.createTextVNode)(" Add "),c={class:"bg-white overflow-hidden shadow-sm rounded-lg"},u={class:"p-6 bg-white border-b border-gray-200"},i={class:"min-w-max w-full table-auto"},l={class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal"},p={key:0,class:"py-2 px-2 text-left"},d=(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Reason",-1),f=(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Leave Date",-1),v=(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Type",-1),h=(0,n.createVNode)("th",{class:"py-2 px-2 text-left"},"Status",-1),x=(0,n.createVNode)("th",{class:"py-2 px-2 text-center"},"Action",-1),m={class:"text-gray-900 text-sm font-light"},y={key:0,class:"py-2 px-2 text-left whitespace-nowrap"},g={class:"py-2 px-2 text-left whitespace-nowrap"},w={class:"py-2 px-2 text-left whitespace-nowrap"},k={class:"py-2 px-2 text-left whitespace-nowrap"},N={class:"py-2 px-2 text-left whitespace-nowrap"},V={class:"py-2 px-2 text-center whitespace-nowrap"},b={class:"flex item-center justify-center"};var C=r(7757),_=r.n(C),D=r(7013),L=r(2561),B=r(2871);function P(e,t,r,n,a,o,s){try{var c=e[o](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){P(o,n,a,s,c,"next",e)}function c(e){P(o,n,a,s,c,"throw",e)}s(void 0)}))}}const R={setup:function(e){var t=(0,D.oR)(),r=(0,n.computed)((function(){return t.state.user})),a=(0,L.Z)(),o=a.leaves,s=a.pagination,c=a.getLeaves,u=a.deleteLeave,i=(0,n.ref)(!1),l=(0,n.ref)(0),p=(0,n.ref)({}),d=function(){var e=S(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.value=p,e.next=3,c(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=S(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.next=4,c(p.value);case 4:v();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){i.value=!i.value};return{user:r,leaves:o,item_id:l,showModal:i,pagination:s,searchData:d,togglePopup:v,destroyLeave:f,managementRoles:B.T4}},render:function(e,t,r,C,_,D){var L=(0,n.resolveComponent)("router-link"),B=(0,n.resolveComponent)("edit-icon"),P=(0,n.resolveComponent)("delete-icon"),S=(0,n.resolveComponent)("app-datatables"),R=(0,n.resolveComponent)("app-confirm-delete");return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)("div",a,[o,(0,n.createVNode)(L,{to:{name:"leave.create"},class:"link-blue"},{default:(0,n.withCtx)((function(){return[s]})),_:1},8,["to"])]),(0,n.createVNode)("div",c,[(0,n.createVNode)("div",u,[(0,n.createVNode)(S,{pagination:C.pagination,onChangePageEvent:C.searchData},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("table",i,[(0,n.createVNode)("thead",null,[(0,n.createVNode)("tr",l,[C.managementRoles().includes(C.user.role)?((0,n.openBlock)(),(0,n.createBlock)("th",p,"Employee")):(0,n.createCommentVNode)("",!0),d,f,v,h,x])]),(0,n.createVNode)("tbody",m,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(C.leaves,(function(e,t){return(0,n.openBlock)(),(0,n.createBlock)("tr",{key:t,class:"border-b border-gray-200 hover:bg-gray-100"},[C.managementRoles().includes(C.user.role)?((0,n.openBlock)(),(0,n.createBlock)("td",y,(0,n.toDisplayString)(e.user.first_name)+" "+(0,n.toDisplayString)(e.user.last_name),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("td",g,(0,n.toDisplayString)(e.description),1),(0,n.createVNode)("td",w,(0,n.toDisplayString)(e.start_date)+" to "+(0,n.toDisplayString)(e.end_date),1),(0,n.createVNode)("td",k,(0,n.toDisplayString)(e.type)+" Day ",1),(0,n.createVNode)("td",N,(0,n.toDisplayString)(e.status),1),(0,n.createVNode)("td",V,[(0,n.createVNode)("div",b,[(0,n.createVNode)(L,{to:{name:"leave.edit",params:{id:e.id}},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(B)]})),_:2},1032,["to"]),(0,n.createVNode)("button",{type:"button",onClick:function(t){C.item_id=e.id,C.togglePopup()},class:"no-underline w-4 mr-2 transform hover:text-purple-500 hover:scale-110"},[(0,n.createVNode)(P)],8,["onClick"])])])])})),128))])])]})),_:1},8,["pagination","onChangePageEvent"])])]),(0,n.withDirectives)((0,n.createVNode)(R,{modalHeadline:"Delete Leave?",deleteMessage:"Are you sure?",onDeleteRecordEvent:t[1]||(t[1]=function(e){return C.destroyLeave(C.item_id)}),onClose:C.togglePopup},null,8,["onClose"]),[[n.vShow,C.showModal]])],64)}},A=R}}]);